

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Interfaz SOAP &mdash; Interfaz de Interoperabilidad iCMS 1.2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/viavansi.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="top" title="Interfaz de Interoperabilidad iCMS 1.2.0 documentation" href="../index.html" />
    <link rel="up" title="Ejecución y uso" href="index.html" />
    <link rel="prev" title="Interfaz HTTP" href="http.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="http.html" title="Interfaz HTTP"
             accesskey="P">anterior</a> |</li>
        <li><a href="../index.html">Interfaz de Interoperabilidad iCMS 1.2.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Ejecución y uso</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="interfaz-soap">
<span id="id1"></span><h1>Interfaz <em>SOAP</em><a class="headerlink" href="#interfaz-soap" title="Enlazar permanentemente con este título">¶</a></h1>
<p>El sistema iCMS a través de la interfaz de servicios web ofrece las operaciones de realizar consultas sobre colecciones,
obtener, guardar y actualizar un recurso.</p>
<p>Los métodos soportados son los siguientes:</p>
<ul class="simple">
<li>Ejecutar una consulta indicando el nombre de la colección, las condiciones, el número de página y el número de
elementos por página.</li>
<li>Ejecutar una consulta indicando el nombre de la colección, las condiciones, el número de página, el número de
elementos por página y la fecha a partir de la cual se quiere obtener los recursos.</li>
<li>Pedir un recurso unitario indicando su identificador.</li>
<li>Guardar un recurso indicando el nombre de la colección, el contenido del recurso y la fecha de publicación.</li>
<li>Actualizar un recurso indicando el nombre de la colección, el contenido del recurso y la fecha de publicación.</li>
<li>Prueba de conectividad con el cliente de servicios web.</li>
</ul>
<div class="section" id="descriptor-de-servicios">
<h2>Descriptor de servicios<a class="headerlink" href="#descriptor-de-servicios" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El fichero WSDL estará disponible en la url <tt class="docutils literal"><span class="pre">http://servidoricms/icms/services/IcmsWS?wsdl</span></tt>. El contenido de dicho fichero
es el siguiente:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- Published by JAX-WS RI at http://jax-ws.dev.java.net. </span>
<span class="c">    RI&#39;s version is JAX-WS RI 2.1.7-b01-. --&gt;</span>
<span class="c">&lt;!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. </span>
<span class="c">    RI&#39;s version is JAX-WS RI 2.1.7-b01-. --&gt;</span>
<span class="nt">&lt;definitions</span> <span class="na">xmlns:soap=</span><span class="s">&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;</span>
<span class="na">xmlns:tns=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
<span class="na">xmlns:xsd=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema&quot;</span>
<span class="na">xmlns=</span><span class="s">&quot;http://schemas.xmlsoap.org/wsdl/&quot;</span>
<span class="na">targetNamespace=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
<span class="na">name=</span><span class="s">&quot;IcmsWSAPIService&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;types&gt;</span>
    <span class="nt">&lt;xsd:schema&gt;</span>
      <span class="nt">&lt;xsd:import</span> <span class="na">namespace=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span>
      <span class="na">schemaLocation=</span><span class="s">&quot;http://192.168.10.101:9991/icms/services/IcmsWS?xsd=1&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/xsd:schema&gt;</span>
    <span class="nt">&lt;xsd:schema&gt;</span>
      <span class="nt">&lt;xsd:import</span> <span class="na">namespace=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
      <span class="na">schemaLocation=</span><span class="s">&quot;http://192.168.10.101:9991/icms/services/IcmsWS?xsd=2&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/xsd:schema&gt;</span>
  <span class="nt">&lt;/types&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;getResource&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span>
    <span class="na">element=</span><span class="s">&quot;tns:getResourceRequestWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;getResourceResponse&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span>
    <span class="na">element=</span><span class="s">&quot;tns:getResourceResponseWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;fault&quot;</span> <span class="na">element=</span><span class="s">&quot;tns:ICMSException&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;executeQuery&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span>
    <span class="na">element=</span><span class="s">&quot;tns:executeQueryRequestWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;executeQueryResponse&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span>
    <span class="na">element=</span><span class="s">&quot;tns:executeQueryResponseWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;executeQueryFromDate&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span>
    <span class="na">element=</span><span class="s">&quot;tns:executeQueryFromDateRequestWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;executeQueryFromDateResponse&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span>
    <span class="na">element=</span><span class="s">&quot;tns:executeQueryFromDateResponseWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;save&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span> <span class="na">element=</span><span class="s">&quot;tns:saveRequestWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;saveResponse&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span> <span class="na">element=</span><span class="s">&quot;tns:saveResponseWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;update&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span> <span class="na">element=</span><span class="s">&quot;tns:updateRequestWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;updateResponse&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span> <span class="na">element=</span><span class="s">&quot;tns:updateResponse&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;ping&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span> <span class="na">element=</span><span class="s">&quot;tns:pingRequestWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;message</span> <span class="na">name=</span><span class="s">&quot;pingResponse&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;part</span> <span class="na">name=</span><span class="s">&quot;parameters&quot;</span> <span class="na">element=</span><span class="s">&quot;tns:pingResponseWrapper&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/message&gt;</span>
  <span class="nt">&lt;portType</span> <span class="na">name=</span><span class="s">&quot;IcmsWSAPIClient&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;getResource&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">message=</span><span class="s">&quot;tns:getResource&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;output</span> <span class="na">message=</span><span class="s">&quot;tns:getResourceResponse&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">message=</span><span class="s">&quot;tns:ICMSException&quot;</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;executeQuery&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">message=</span><span class="s">&quot;tns:executeQuery&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;output</span> <span class="na">message=</span><span class="s">&quot;tns:executeQueryResponse&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">message=</span><span class="s">&quot;tns:ICMSException&quot;</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;executeQueryFromDate&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">message=</span><span class="s">&quot;tns:executeQueryFromDate&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;output</span> <span class="na">message=</span><span class="s">&quot;tns:executeQueryFromDateResponse&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">message=</span><span class="s">&quot;tns:ICMSException&quot;</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;save&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">message=</span><span class="s">&quot;tns:save&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;output</span> <span class="na">message=</span><span class="s">&quot;tns:saveResponse&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">message=</span><span class="s">&quot;tns:ICMSException&quot;</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;update&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">message=</span><span class="s">&quot;tns:update&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;output</span> <span class="na">message=</span><span class="s">&quot;tns:updateResponse&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">message=</span><span class="s">&quot;tns:ICMSException&quot;</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;ping&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">message=</span><span class="s">&quot;tns:ping&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;output</span> <span class="na">message=</span><span class="s">&quot;tns:pingResponse&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
  <span class="nt">&lt;/portType&gt;</span>
  <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;IcmsWSAPIPortBinding&quot;</span> <span class="na">type=</span><span class="s">&quot;tns:IcmsWSAPIClient&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:binding</span> <span class="na">transport=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/http&quot;</span>
    <span class="na">style=</span><span class="s">&quot;document&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;getResource&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;soap:operation</span> <span class="na">soapAction=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/getResource&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/input&gt;</span>
      <span class="nt">&lt;output&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/output&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;soap:fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/fault&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;executeQuery&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;soap:operation</span> <span class="na">soapAction=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/executeQuery&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/input&gt;</span>
      <span class="nt">&lt;output&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/output&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;soap:fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/fault&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;executeQueryFromDate&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;soap:operation</span> <span class="na">soapAction=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/executeQuery&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/input&gt;</span>
      <span class="nt">&lt;output&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/output&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;soap:fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/fault&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;save&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;soap:operation</span> <span class="na">soapAction=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/save&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/input&gt;</span>
      <span class="nt">&lt;output&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/output&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;soap:fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/fault&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;update&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;soap:operation</span> <span class="na">soapAction=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/update&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/input&gt;</span>
      <span class="nt">&lt;output&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/output&gt;</span>
      <span class="nt">&lt;fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;soap:fault</span> <span class="na">name=</span><span class="s">&quot;ICMSException&quot;</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/fault&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
    <span class="nt">&lt;operation</span> <span class="na">name=</span><span class="s">&quot;ping&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;soap:operation</span> <span class="na">soapAction=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/ping&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/input&gt;</span>
      <span class="nt">&lt;output&gt;</span>
        <span class="nt">&lt;soap:body</span> <span class="na">use=</span><span class="s">&quot;literal&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/output&gt;</span>
    <span class="nt">&lt;/operation&gt;</span>
  <span class="nt">&lt;/binding&gt;</span>
  <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">&quot;IcmsWSAPIService&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;port</span> <span class="na">name=</span><span class="s">&quot;IcmsWSAPIPort&quot;</span> <span class="na">binding=</span><span class="s">&quot;tns:IcmsWSAPIPortBinding&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;soap:address</span> <span class="na">location=</span><span class="s">&quot;http://192.168.10.101:9991/icms/services/IcmsWS&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/port&gt;</span>
  <span class="nt">&lt;/service&gt;</span>
<span class="nt">&lt;/definitions&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="metodos-soportados">
<h2>Métodos soportados<a class="headerlink" href="#metodos-soportados" title="Enlazar permanentemente con este título">¶</a></h2>
<p>A continuación se detallan los métodos soportados junto con los parámetros necesarios para llamarlos.</p>
<div class="section" id="metodo-executequery">
<h3>Método executeQuery<a class="headerlink" href="#metodo-executequery" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Realiza una consulta en el sistema <em>iCMS</em> con los siguientes parámetros:</p>
<ul class="simple">
<li>Nombre de la colección</li>
<li>Listado de condiciones de la consulta en formato de par <em>campo-valor</em></li>
<li>Número de página</li>
<li>Número de elementos por página</li>
<li>El resultado de la llamada será el contenido de los recursos que cumplen con la consulta o un error indicando la causa del
mismo.</li>
</ul>
</div>
<div class="section" id="metodo-executequeryfromdate">
<h3>Método executeQueryFromDate<a class="headerlink" href="#metodo-executequeryfromdate" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Realiza una consulta en el sistema <em>iCMS</em> con los siguientes parámetros:</p>
<ul class="simple">
<li>Nombre de la colección</li>
<li>Listado de condiciones de la consulta en formato de par <em>campo-valor</em></li>
<li>Número de página</li>
<li>Número de elementos por página</li>
<li>Fecha a partir de la cual se quiere traer los recursos</li>
<li>El resultado de la llamada será el contenido de los recursos que cumplen con la consulta o un error indicando la causa del
mismo.</li>
</ul>
</div>
<div class="section" id="metodo-getresource">
<h3>Método getResource<a class="headerlink" href="#metodo-getresource" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Realiza la petición de un recurso en el sistema <em>iCMS</em> con el siguiente parámetro:</p>
<ul class="simple">
<li>Identificador del recurso (<em>uri</em> de <em>iCMS</em>)</li>
</ul>
<p>El resultado de la llamada será el contenido del recurso que se solicita o un error indicando la causa del mismo.</p>
</div>
<div class="section" id="metodo-save">
<h3>Método save<a class="headerlink" href="#metodo-save" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Guarda un recurso en el sistema <em>iCMS</em> indicando los siguientes parámetros:</p>
<ul class="simple">
<li>Nombre de la colección donde se quiere guardar el recurso</li>
<li>Contenido del recurso siguiendo la estructura establecida en el siguiente apartado</li>
<li>Fecha de publicación (opcional)</li>
<li>El resultado de la llamada será el identificador que el sistema haya otorgado al nuevo recurso o un error indicando la causa
del mismo.</li>
</ul>
</div>
<div class="section" id="metodo-update">
<h3>Método update<a class="headerlink" href="#metodo-update" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Actualiza un recurso en el sistema <em>iCMS</em> indicando los siguientes parámetros:</p>
<ul class="simple">
<li>Nombre de la colección donde se quiere guardar el recurso</li>
<li>Contenido del recurso siguiendo la estructura establecida en el siguiente apartado</li>
<li>Fecha de publicación (opcional)</li>
<li>La llamada devolverá error indicando la causa del mismo en caso de que la actualización no se hubiera llevado a cabo.</li>
</ul>
</div>
<div class="section" id="metodo-ping">
<h3>Método ping<a class="headerlink" href="#metodo-ping" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Realiza una prueba de conexión del servicio web de <em>iCMS</em>. Admite el siguiente parámetro:</p>
<ul class="simple">
<li>Cadena para prueba</li>
</ul>
<p>La llamada devolverá un mensaje de <em>echo</em> en caso correcto o un error indicando la causa del mismo.</p>
</div>
</div>
<div class="section" id="tipos-complejos">
<h2>Tipos complejos<a class="headerlink" href="#tipos-complejos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Además de las cadenas y los enteros, algunas llamadas precisan del uso del tipo <em>IcmsNode</em> para definir el contenido de un
recurso o del tipo <em>ICMSException</em> para capturar los mensajes de error cuando una llamada realiza un comportamiento
anómalo.</p>
<div class="section" id="icmsnode">
<h3>IcmsNode<a class="headerlink" href="#icmsnode" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Este tipo es utilizado como parámetro en las llamadas a los métodos <em>save</em> y <em>update</em>. Está compuesto por un identificador, un
mapa con los atributos, una lista de subnodos y una lista con namespaces.</p>
<p>La representación visual de este tipo es la siguiente:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/icmsnode.png"><img alt="../_images/icmsnode.png" src="../_images/icmsnode.png" style="width: 569.25px; height: 261.0px;" /></a>
</div>
</div>
<div class="section" id="icmsexception">
<h3>ICMSException<a class="headerlink" href="#icmsexception" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El tipo <em>ICMSException</em> es usado lanzándose como respuesta cuando un método realiza una operación no controlada. Esta
excepción contiene un mensaje indicativo además de un código de error.</p>
<p>La representación visual de este tipo es:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/icmsexception.png"><img alt="../_images/icmsexception.png" src="../_images/icmsexception.png" style="width: 348.0px; height: 84.75px;" /></a>
</div>
</div>
<div class="section" id="codigos-de-errores">
<h3>Códigos de errores<a class="headerlink" href="#codigos-de-errores" title="Enlazar permanentemente con este título">¶</a></h3>
<p>A continuación se muestra la relación de códigos de errores que puede contener una excepción.</p>
<ul class="simple">
<li>ICMS_COLLECTION_NO_FOUND</li>
<li>ICMS_CONFIG_ERROR</li>
<li>ICMS_CONNECTION_ERROR</li>
<li>ICMS_FRAGMENTS_NOT_FOUND</li>
<li>ICMS_INVALID_ATOM</li>
<li>ICMS_INVALID_COLLECTION_ID</li>
<li>ICMS_INVALID_CONDITION_QUERY</li>
<li>ICMS_INVALID_URL</li>
<li>ICMS_IO_ERROR</li>
<li>ICMS_MIMETYPE_NOT_SUPPORTED</li>
<li>ICMS_MIMETYPE_NOT_SUPPORTED_BY_PROVIDER</li>
<li>ICMS_OPERATION_NOT_SUPPORTED</li>
<li>ICMS_PAGE_NOT_FOUND</li>
<li>ICMS_PREFIX_NOT_SUPPORTED</li>
<li>ICMS_PROVIDER_NOT_FOUND</li>
<li>ICMS_PROVIDER_PROBLEM</li>
<li>ICMS_RDF_INCORRECT</li>
<li>ICMS_RESOURCE_NO_FOUND</li>
<li>ICMS_SERVER_ERROR</li>
<li>ICMS_SNAPSHOTS_NOT_FOUND</li>
<li>ICMS_STORAGE_DATA_ERROR</li>
<li>ICMS_TIMEOUT</li>
<li>ICMS_UNKNOWN</li>
</ul>
</div>
</div>
<div class="section" id="pruebas-de-llamadas-a-los-metodos">
<h2>Pruebas de llamadas a los métodos<a class="headerlink" href="#pruebas-de-llamadas-a-los-metodos" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="contexto">
<h3>Contexto<a class="headerlink" href="#contexto" title="Enlazar permanentemente con este título">¶</a></h3>
<p>A continuación se muestran algunos ejemplos de llamadas a los métodos de servicios web. Para los ejemplos usaremos
una colección ficticia llamada <em>personas</em>, con el siguiente contenido:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;entry&gt;</span>
    <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;dc:title&gt;</span>José Antonio Luque<span class="nt">&lt;/dc:title&gt;</span>
    <span class="nt">&lt;icms:edad&gt;</span>22<span class="nt">&lt;/icms:edad&gt;</span>
    <span class="nt">&lt;icms:cargo&gt;</span>programador<span class="nt">&lt;/icms:cargo&gt;</span>
    <span class="nt">&lt;egov:creation-date&gt;</span>2008-05-26T13:32:52<span class="nt">&lt;/egov:creation-date&gt;</span>
<span class="nt">&lt;/entry&gt;</span>
<span class="nt">&lt;entry&gt;</span>
    <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;dc:title&gt;</span>Isabel Gómez<span class="nt">&lt;/dc:title&gt;</span>
    <span class="nt">&lt;icms:edad&gt;</span>25<span class="nt">&lt;/icms:edad&gt;</span>
    <span class="nt">&lt;icms:cargo&gt;</span>analista<span class="nt">&lt;/icms:cargo&gt;</span>
    <span class="nt">&lt;egov:creation-date&gt;</span>2008-07-11T10:35:25<span class="nt">&lt;/egov:creation-date&gt;</span>
<span class="nt">&lt;/entry&gt;</span>
<span class="nt">&lt;entry&gt;</span>
    <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;dc:title&gt;</span>David León<span class="nt">&lt;/dc:title&gt;</span>
    <span class="nt">&lt;icms:edad&gt;</span>31<span class="nt">&lt;/icms:edad&gt;</span>
    <span class="nt">&lt;icms:cargo&gt;</span>analista<span class="nt">&lt;/icms:cargo&gt;</span>
    <span class="nt">&lt;egov:creation-date&gt;</span>2008-07-15T11:40:28<span class="nt">&lt;/egov:creation-date&gt;</span>
<span class="nt">&lt;/entry&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Método executeQuery<a class="headerlink" href="#id2" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para realizar una consulta a la colección personas con el fin de traernos los 10 primeros elementos tendremos que enviar el
siguiente mensaje <em>SOAP</em>:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>
                <span class="na">xmlns:icms=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
    <span class="nt">&lt;icms:executeQuery&gt;</span>
      <span class="nt">&lt;arg0&gt;</span>personas<span class="nt">&lt;/arg0&gt;</span>
      <span class="nt">&lt;arg2&gt;</span>1<span class="nt">&lt;/arg2&gt;</span>
      <span class="nt">&lt;arg3&gt;</span>10<span class="nt">&lt;/arg3&gt;</span>
    <span class="nt">&lt;/icms:executeQuery&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</pre></div>
</div>
<p>La respuesta a este mensaje sería:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;S:Envelope</span> <span class="na">xmlns:S=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;S:Body&gt;</span>
    <span class="nt">&lt;ns2:executeQueryResponse</span> <span class="na">xmlns:ns2=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
      <span class="na">xmlns:ns3=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;José Antonio Luque&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;22&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;programador&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-05-26T13:32:52&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://a9.com/-/spec/opensearch/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;os&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;Isabel Gómez&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;25&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-07-11T10:35:25&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://a9.com/-/spec/opensearch/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;os&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;David León&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;31&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-07-15T11:40:28&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://a9.com/-/spec/opensearch/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;os&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
    <span class="nt">&lt;/ns2:executeQueryResponse&gt;</span>
  <span class="nt">&lt;/S:Body&gt;</span>
<span class="nt">&lt;/S:Envelope&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="metodo-executequery-con-condiciones">
<h3>Método executeQuery con condiciones<a class="headerlink" href="#metodo-executequery-con-condiciones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para realizar una consulta a la colección personas con el fin de traernos las personas que son analistas y que tiene 31 años
el mensaje <em>SOAP</em> que tendremos que enviar será el siguiente:</p>
<div class="highlight-xml"><pre>&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
                xmlns:icms="http://www.juntadeandalucia.es/icms"&gt;
  &lt;soapenv:Header/&gt;
  &lt;soapenv:Body&gt;
    &lt;icms:executeQuery&gt;
      &lt;arg0&gt;personas&lt;/arg0&gt;
      &lt;arg1&gt;
      &lt;property&gt;icms:cargo&lt;/property&gt;
      &lt;value&gt;analista&lt;/value&gt;
      &lt;/arg1&gt;
      &lt;arg1&gt;
      &lt;property&gt;icms:edad&lt;/property&gt;
      &lt;value&gt;31&lt;/value&gt;
      &lt;/arg1
      &lt;arg2&gt;1&lt;/arg2&gt;
      &lt;arg3&gt;10&lt;/arg3&gt;
    &lt;/icms:executeQuery&gt;
  &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;</pre>
</div>
<p>La respuesta a este mensaje será:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;S:Envelope</span> <span class="na">xmlns:S=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;S:Body&gt;</span>
    <span class="nt">&lt;ns2:executeQueryResponse</span> <span class="na">xmlns:ns2=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
      <span class="na">xmlns:ns3=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;David León&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;31&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-07-15T11:40:28&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://a9.com/-/spec/opensearch/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;os&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
    <span class="nt">&lt;/ns2:executeQueryResponse&gt;</span>
  <span class="nt">&lt;/S:Body&gt;</span>
<span class="nt">&lt;/S:Envelope&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>Método executeQueryFromDate<a class="headerlink" href="#id3" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para realizar una consulta a la colección personas con el fin de traernos los 10 primeros elementos creados a partir de julio
del 2008 tendremos que enviar el siguiente mensaje <em>SOAP</em> al método <em>executeQueryFromDate</em>:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>
                <span class="na">xmlns:icms=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
    <span class="nt">&lt;icms:executeQueryFromDate&gt;</span>
      <span class="nt">&lt;arg0&gt;</span>personas<span class="nt">&lt;/arg0&gt;</span>
      <span class="nt">&lt;arg2&gt;</span>1<span class="nt">&lt;/arg2&gt;</span>
      <span class="nt">&lt;arg3&gt;</span>10<span class="nt">&lt;/arg3&gt;</span>
      <span class="nt">&lt;arg4&gt;</span>2008-7-01T00:00:00<span class="nt">&lt;/arg4&gt;</span>
    <span class="nt">&lt;/icms:executeQueryFromDate&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</pre></div>
</div>
<p>La respuesta a este mensaje sería:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;S:Envelope</span> <span class="na">xmlns:S=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;S:Body&gt;</span>
    <span class="nt">&lt;ns2:executeQueryFromDateResponse</span> <span class="na">xmlns:ns2=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
      <span class="na">xmlns:ns3=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;Isabel Gómez&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;25&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-07-11T10:35:25&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://a9.com/-/spec/opensearch/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;os&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;David León&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;31&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-07-15T11:40:28&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://a9.com/-/spec/opensearch/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;os&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
    <span class="nt">&lt;/ns2:executeQueryFromDateResponse&gt;</span>
  <span class="nt">&lt;/S:Body&gt;</span>
<span class="nt">&lt;/S:Envelope&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="metodo-executequeryfromdate-con-condiciones">
<h3>Método executeQueryFromDate con condiciones<a class="headerlink" href="#metodo-executequeryfromdate-con-condiciones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para realizar una consulta a la colección personas con el fin de traernos los recursos creados a
partir de julio del 2008 y que además tengan 25 años tendremos que enviar el siguiente mensaje
<em>SOAP</em> al método <em>executeQueryFromDate</em>:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>
                <span class="na">xmlns:icms=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
    <span class="nt">&lt;icms:executeQueryFromDate&gt;</span>
      <span class="nt">&lt;arg0&gt;</span>personas<span class="nt">&lt;/arg0&gt;</span>
      <span class="nt">&lt;arg1&gt;</span>
      <span class="nt">&lt;property&gt;</span>icms:edad<span class="nt">&lt;/property&gt;</span>
      <span class="nt">&lt;value&gt;</span>25<span class="nt">&lt;/value&gt;</span>
      <span class="nt">&lt;/arg1&gt;</span>
      <span class="nt">&lt;arg2&gt;</span>1<span class="nt">&lt;/arg2&gt;</span>
      <span class="nt">&lt;arg3&gt;</span>10<span class="nt">&lt;/arg3&gt;</span>
      <span class="nt">&lt;arg4&gt;</span>2008-7-01T00:00:00<span class="nt">&lt;/arg4&gt;</span>
    <span class="nt">&lt;/icms:executeQueryFromDate&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</pre></div>
</div>
<p>La respuesta a este mensaje sería:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;S:Envelope</span> <span class="na">xmlns:S=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;S:Body&gt;</span>
    <span class="nt">&lt;ns2:executeQueryFromDateResponse</span> <span class="na">xmlns:ns2=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
      <span class="na">xmlns:ns3=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;Isabel Gómez&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;25&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-07-11T10:35:25&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/attribute&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://a9.com/-/spec/opensearch/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;os&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
    <span class="nt">&lt;/ns2:executeQueryFromDateResponse&gt;</span>
  <span class="nt">&lt;/S:Body&gt;</span>
<span class="nt">&lt;/S:Envelope&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Método getResource<a class="headerlink" href="#id4" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para traernos el recurso identificado por la URI <tt class="docutils literal"><span class="pre">http://servidoricms/icms/id/personas/2</span></tt> debemos llamar al método
<em>getResource</em> con el siguiente mensaje <em>SOAP</em>:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>
                <span class="na">xmlns:icms=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
    <span class="nt">&lt;icms:getResource&gt;</span>
      <span class="nt">&lt;arg0&gt;</span>http://servidoricms/icms/id/personas/2<span class="nt">&lt;/arg0&gt;</span>
    <span class="nt">&lt;/icms:getResource&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</pre></div>
</div>
<p>La respuesta sería:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;S:Envelope</span> <span class="na">xmlns:S=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;S:Body&gt;</span>
    <span class="nt">&lt;ns2:executeQueryFromDateResponse</span> <span class="na">xmlns:ns2=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
                                    <span class="na">xmlns:ns3=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;return</span> <span class="na">id=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;attribute&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;Isabel Gómez&quot;</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;25&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">value=</span><span class="s">&quot;2008-07-11T10:35:25&quot;</span> <span class="na">key=</span><span class="s">&quot;egov:creation-date&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/attribute&gt;</span>
      <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.juntadeandalucia.es/2009/icms/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;icms&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;dc&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://psi.egovpt.org/types/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;egov&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdf&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span> <span class="na">prefix=</span><span class="s">&quot;rdfs&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://www.w3.org/2005/Atom&quot;</span> <span class="na">prefix=</span><span class="s">&quot;atom&quot;</span><span class="nt">/&gt;</span>
      namespaces url=&quot;http://a9.com/-/spec/opensearch/1.1/&quot; prefix=&quot;os&quot;/&gt;
      <span class="nt">&lt;namespaces</span> <span class="na">url=</span><span class="s">&quot;http://drupal.org/ns/&quot;</span> <span class="na">prefix=</span><span class="s">&quot;drupal&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/return&gt;</span>
    <span class="nt">&lt;/ns2:executeQueryFromDateResponse&gt;</span>
  <span class="nt">&lt;/S:Body&gt;</span>
<span class="nt">&lt;/S:Envelope&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>Método save<a class="headerlink" href="#id5" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para añadir un nuevo recurso a la colección personas tendremos que crear un mensaje <em>SOAP</em> del tipo:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>
                <span class="na">xmlns:icms=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
    <span class="nt">&lt;icms:saveRequestWrapper&gt;</span>
      <span class="nt">&lt;arg0&gt;</span>personas<span class="nt">&lt;/arg0&gt;</span>
      <span class="nt">&lt;arg1</span> <span class="na">id=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;attribute&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span> <span class="na">value=</span><span class="s">&quot;María Galán&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span> <span class="na">value=</span><span class="s">&quot;28&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span> <span class="na">value=</span><span class="s">&quot;jefe de proyecto&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;egov:created-date&quot;</span> <span class="na">value=</span><span class="s">&quot;2010-04-05T10:35:25&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/attribute&gt;</span>
      <span class="nt">&lt;/arg1&gt;</span>
      <span class="nt">&lt;arg2&gt;</span>2010-04-05T10:35:25<span class="nt">&lt;/arg2&gt;</span>
    <span class="nt">&lt;/icms:saveRequestWrapper&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</pre></div>
</div>
<p>Una vez creado el recurso correctamente el mensaje de respuesta sería:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;S:Envelope</span> <span class="na">xmlns:S=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;S:Body&gt;</span>
    <span class="nt">&lt;ns2:saveResponseWrapper</span> <span class="na">xmlns:ns2=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
                           <span class="na">xmlns:ns3=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ns2:saveResult&gt;</span>http://servidoricms/icms/id/personas/4<span class="nt">&lt;/ns2:saveResult&gt;</span>
    <span class="nt">&lt;/ns2:saveResponseWrapper&gt;</span>
  <span class="nt">&lt;/S:Body&gt;</span>
<span class="nt">&lt;/S:Envelope&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>Método update<a class="headerlink" href="#id6" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para actualizar un recurso de la colección personas tendremos que crear un mensaje <em>SOAP</em> del tipo:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span>
                <span class="na">xmlns:icms=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
    <span class="nt">&lt;icms:updateRequestWrapper&gt;</span>
      <span class="nt">&lt;arg0&gt;</span>personas<span class="nt">&lt;/arg0&gt;</span>
      <span class="nt">&lt;arg1</span> <span class="na">id=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;attribute&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;dc:title&quot;</span> <span class="na">value=</span><span class="s">&quot;Juan Cortina&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;icms:edad&quot;</span> <span class="na">value=</span><span class="s">&quot;33&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;icms:cargo&quot;</span> <span class="na">value=</span><span class="s">&quot;analista&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">key=</span><span class="s">&quot;egov:created-date&quot;</span> <span class="na">value=</span><span class="s">&quot;2010-04-05T10:35:25&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/attribute&gt;</span>
      <span class="nt">&lt;/arg1&gt;</span>
      <span class="nt">&lt;arg2&gt;</span>2010-04-05T10:35:25<span class="nt">&lt;/arg2&gt;</span>
    <span class="nt">&lt;/icms:updateRequestWrapper&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</pre></div>
</div>
<p>Una vez creado el recurso correctamente el mensaje de respuesta sería:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;S:Envelope</span> <span class="na">xmlns:S=</span><span class="s">&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;S:Body&gt;</span>
    <span class="nt">&lt;ns2:updateResponseWrapper</span> <span class="na">xmlns:ns2=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms&quot;</span>
                             <span class="na">xmlns:ns3=</span><span class="s">&quot;http://www.juntadeandalucia.es/icms/data&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ns2:updateResult&gt;</span>http://servidoricms/icms/id/personas/2<span class="nt">&lt;/ns2:updateResult&gt;</span>
    <span class="nt">&lt;/ns2:updateResponseWrapper&gt;</span>
  <span class="nt">&lt;/S:Body&gt;</span>
<span class="nt">&lt;/S:Envelope&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo-icms.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Contenidos</a></h3>
  <ul>
<li><a class="reference internal" href="#">Interfaz <em>SOAP</em></a><ul>
<li><a class="reference internal" href="#descriptor-de-servicios">Descriptor de servicios</a></li>
<li><a class="reference internal" href="#metodos-soportados">Métodos soportados</a><ul>
<li><a class="reference internal" href="#metodo-executequery">Método executeQuery</a></li>
<li><a class="reference internal" href="#metodo-executequeryfromdate">Método executeQueryFromDate</a></li>
<li><a class="reference internal" href="#metodo-getresource">Método getResource</a></li>
<li><a class="reference internal" href="#metodo-save">Método save</a></li>
<li><a class="reference internal" href="#metodo-update">Método update</a></li>
<li><a class="reference internal" href="#metodo-ping">Método ping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tipos-complejos">Tipos complejos</a><ul>
<li><a class="reference internal" href="#icmsnode">IcmsNode</a></li>
<li><a class="reference internal" href="#icmsexception">ICMSException</a></li>
<li><a class="reference internal" href="#codigos-de-errores">Códigos de errores</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pruebas-de-llamadas-a-los-metodos">Pruebas de llamadas a los métodos</a><ul>
<li><a class="reference internal" href="#contexto">Contexto</a></li>
<li><a class="reference internal" href="#id2">Método executeQuery</a></li>
<li><a class="reference internal" href="#metodo-executequery-con-condiciones">Método executeQuery con condiciones</a></li>
<li><a class="reference internal" href="#id3">Método executeQueryFromDate</a></li>
<li><a class="reference internal" href="#metodo-executequeryfromdate-con-condiciones">Método executeQueryFromDate con condiciones</a></li>
<li><a class="reference internal" href="#id4">Método getResource</a></li>
<li><a class="reference internal" href="#id5">Método save</a></li>
<li><a class="reference internal" href="#id6">Método update</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="http.html"
                        title="Capítulo anterior">Interfaz <em>HTTP</em></a></p>
  <h3>Esta página</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/ejecucion/soap.txt"
           rel="nofollow">Enseñar el código</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Búsqueda rápida</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Introduzca los términos de búsqueda o un módulo, clase o nombre de función.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="http.html" title="Interfaz HTTP"
             >anterior</a> |</li>
        <li><a href="../index.html">Interfaz de Interoperabilidad iCMS 1.2.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >Ejecución y uso</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Viavansi.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>