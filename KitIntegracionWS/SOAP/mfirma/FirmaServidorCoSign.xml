************************MENSAJE SOAP DE PETICION******************************
POST /afirmaws/services/FirmaServidorCoSign HTTP/1.0
Content-Type: text/xml; charset=utf-8
Accept: application/soap+xml, application/dime, multipart/related, text/*
User-Agent: Axis/1.3
Host: 127.0.0.1:9090
Cache-Control: no-cache
Pragma: no-cache
SOAPAction: ""
Content-Length: 1131

<?xml version="1.0" encoding="UTF-8"?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soapenv:Body>
	<FirmaServidorCoSign xmlns="http://soapinterop.org/">
	<FirmaServidorCoSignRequest xsi:type="xsd:string" xmlns="">
		&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
		&lt;mensajeEntrada targetNamespace=&quot;https://afirmaws/ws/firma&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;https://localhost/afirmaws/xsd/mfirma/ws.xsd&quot;&gt;	
			&lt;peticion&gt;FirmaServidorCoSign&lt;/peticion&gt;	
			&lt;versionMsg&gt;1.0&lt;/versionMsg&gt;	
			&lt;parametros&gt;		
				&lt;idAplicacion&gt;appPrueba&lt;/idAplicacion&gt;		
				&lt;idTransaccion&gt;1150549868598028&lt;/idTransaccion&gt;		
				&lt;firmante&gt;RSA.2048&lt;/firmante&gt;		
				&lt;idReferencia&gt;idReferencia&lt;/idReferencia&gt;		
				&lt;algoritmoHash&gt;SHA1&lt;/algoritmoHash&gt;	
			&lt;/parametros&gt;
		&lt;/mensajeEntrada&gt;
	</FirmaServidorCoSignRequest>
	</FirmaServidorCoSign>
</soapenv:Body>
</soapenv:Envelope>


************************MENSAJE SOAP DE RESPUESTA FIRMADO******************************

HTTP/1.1 200 OK
Server: Apache-Coyote/1.1
X-Powered-By: Servlet 2.4; JBoss-4.0.2 (build: CVSTag=JBoss_4_0_2 date=200505022023)/Tomcat-5.5
Set-Cookie: JSESSIONID=73563B686A37B6571682716D9DEA51D8; Path=/
Content-Type: text/xml;charset=utf-8
Date: Wed, 14 Jun 2006 08:07:14 GMT
Connection: close

<?xml version="1.0" encoding="UTF-8"?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
 <soapenv:Header>
  <wsse:Security soapenv:actor="http://schemas.xmlsoap.org/soap/actor/next" soapenv:mustUnderstand="0">
	  <wsse:BinarySecurityToken EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" wsu:Id="binaryToken">
	  MIICsTCCAhqgAwIBAAIEQ8zySzANBgkqhkiG9w0BAQUFADCBnDEgMB4GCSqGSIb3
	DQEJARYRc29wb3J0ZS5ydEBtYXAuZXMxCzAJBgNVBAYTAkVTMQ8wDQYDVQQIEwZN
	YWRyaWQxDzANBgNVBAcTBk1hZHJpZDEMMAoGA1UEChMDTUFQMQwwCgYDVQQLEwNN
	QVAxLTArBgNVBAMTJHByZS1hZmlybWEucmVkaW50ZXJhZG1pbmlzdHJhdGl2YS5l
	czAeFw0wNjAxMTcxMzM0MDNaFw0zMzA2MDQxMzM0MDNaMIGcMSAwHgYJKoZIhvcN
	AQkBFhFzb3BvcnRlLnJ0QG1hcC5lczELMAkGA1UEBhMCRVMxDzANBgNVBAgTBk1h
	ZHJpZDEPMA0GA1UEBxMGTWFkcmlkMQwwCgYDVQQKEwNNQVAxDDAKBgNVBAsTA01B
	UDEtMCsGA1UEAxMkcHJlLWFmaXJtYS5yZWRpbnRlcmFkbWluaXN0cmF0aXZhLmVz
	MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCpmDks3oqpTVhj69pu3gZtU3fd
	MLv2sEPW4yq5/DZb4nWhhufwwUKHJrBtDadJyCv6x9sUaJEQMI9fyiP3br4t3So3
	VC2+ki3ouUqAM7R1oWd0qbxn7xZ4qN5UvwgSGbJLmT9omi8CqeIAAecJt/Jhd3CR
	MMknvDg2TKiH9Y2j2wIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAH12TSqTvkyY8Odn
	Ervl6814griyxw+DkLcYXQN3L2/0OTZTV/wUElsar2KzGacmTQykH3zQeyt4hOMf
	FX3A6cMuLyVzgc4Eoo6B3hGeRuaUoa92OxbwX79iBcYoIFGgxmgPrQUi1dHeuxQq
	1uLg9O8Bhhp3saZfk56Ta7CegbG5
	  </wsse:BinarySecurityToken>
	  <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
		  <ds:SignedInfo>
			  <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
			  <ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
			  <ds:Reference URI="#body">
				  <ds:Transforms>
				  	<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
				  </ds:Transforms>
				  <ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
				  <ds:DigestValue>VKB06B2KlOeGtq0WEjq/LO6SggE=</ds:DigestValue>
			  </ds:Reference>
			  <ds:Reference URI="#binaryToken">
				  <ds:Transforms>
				  	<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
				  </ds:Transforms>
				  <ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
				  <ds:DigestValue>VqClygkINsFb33W6zo4tH7fN/xY=</ds:DigestValue>
			  </ds:Reference>
		  </ds:SignedInfo>
		  <ds:SignatureValue>nDT40E6upHrhRCiFufxx7bSO67brqmwDhQaCRBWCWOn+zx/a4w9HCE5qETZWKOHZ
		HwJKzlanG3okZA+bObXANNKyMFbwbMn38PraiMBZXzz6EDfqBV9NrSCs8Hb+snX+
		+CLA8K5+Eq3GrmmFDDl1QM2m71mJ6VdBzkubWCyTu+Q=
		  </ds:SignatureValue>
		  <ds:KeyInfo>
			  <wsse:SecurityTokenReference>
				  <wsse:Reference URI="#binaryToken"/>
			  </wsse:SecurityTokenReference>
		  </ds:KeyInfo>
	  </ds:Signature>
  </wsse:Security>
 </soapenv:Header>
 <soapenv:Body wsu:Id="body">
  <ns1:FirmaServidorCoSignResponse soapenv:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" xmlns:ns1="http://soapinterop.org/">
   <FirmaServidorCoSignReturn xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xsi:type="soapenc:string">
   	&lt;?xml version=&quot;1.0&quot;?&gt; 
   	&lt;mensajeSalida xmlns=&quot;https://afirmaws/ws/firma&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:SchemaLocation=&quot;https://localhost/afirmaws/xsd/mfirma/ws.xsd &quot;&gt; 
   		&lt;peticion&gt; FirmaServidorCoSign &lt;/peticion&gt; 
   		&lt;versionMsg&gt;1.0 &lt;/versionMsg&gt; 
   		&lt;respuesta&gt; 
   			&lt;Respuesta&gt;
   				&lt;estado&gt;true&lt;/estado&gt;
				&lt;descripcion&gt;Proceso de generaciò¬Ÿ¤e firma coSign en servidor realizado correctamente.&lt;/descripcion&gt;
				&lt;idTransaccion&gt;1150272397387001&lt;/idTransaccion&gt;
				&lt;firmaElectronica&gt;
					MIIR1AIBAzELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcCoIIFajCCArEwggIaoAMCAQACBEPM8ksw
					DQYJKoZIhvcNAQEFBQAwgZwxIDAeBgkqhkiG9w0BCQEWEXNvcG9ydGUucnRAbWFwLmVzMQswCQYD
					VQQGEwJFUzEPMA0GA1UECBMGTWFkcmlkMQ8wDQYDVQQHEwZNYWRyaWQxDDAKBgNVBAoTA01BUDEM
					MAoGA1UECxMDTUFQMS0wKwYDVQQDEyRwcmUtYWZpcm1hLnJlZGludGVyYWRtaW5pc3RyYXRpdmEu
					ZXMwHhcNMDYwMTE3MTMzNDAzWhcNMzMwNjA0MTMzNDAzWjCBnDEgMB4GCSqGSIb3DQEJARYRc29w
					b3J0ZS5ydEBtYXAuZXMxCzAJBgNVBAYTAkVTMQ8wDQYDVQQIEwZNYWRyaWQxDzANBgNVBAcTBk1h
					ZHJpZDEMMAoGA1UEChMDTUFQMQwwCgYDVQQLEwNNQVAxLTArBgNVBAMTJHByZS1hZmlybWEucmVk
					aW50ZXJhZG1pbmlzdHJhdGl2YS5lczCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAqZg5LN6K
					qU1YY+vabt4GbVN33TC79rBD1uMqufw2W+J1oYbn8MFChyawbQ2nScgr+sfbFGiREDCPX8oj926+
					Ld0qN1QtvpIt6LlKgDO0daFndKm8Z+8WeKjeVL8IEhmyS5k/aJovAqniAAHnCbfyYXdwkTDJJ7w4
					Nkyoh/WNo9sCAwEAATANBgkqhkiG9w0BAQUFAAOBgQB9dk0qk75MmPDnZxK75evNeIK4sscPg5C3
					GF0Ddy9v9Dk2U1f8FBJbGq9isxmnJk0MpB980HsreITjHxV9wOnDLi8lc4HOBKKOgd4RnkbmlKGv
					djsW8F+/YgXGKCBRoMZoD60FItXR3rsUKtbi4PTvAYYad7GmX5Oek2uwnoGxuTCCArEwggIaoAMC
					AQACBEPM8kswDQYJKoZIhvcNAQEFBQAwgZwxIDAeBgkqhkiG9w0BCQEWEXNvcG9ydGUucnRAbWFw
					LmVzMQswCQYDVQQGEwJFUzEPMA0GA1UECBMGTWFkcmlkMQ8wDQYDVQQHEwZNYWRyaWQxDDAKBgNV
					BAoTA01BUDEMMAoGA1UECxMDTUFQMS0wKwYDVQQDEyRwcmUtYWZpcm1hLnJlZGludGVyYWRtaW5p
					c3RyYXRpdmEuZXMwHhcNMDYwMTE3MTMzNDAzWhcNMzMwNjA0MTMzNDAzWjCBnDEgMB4GCSqGSIb3
					DQEJARYRc29wb3J0ZS5ydEBtYXAuZXMxCzAJBgNVBAYTAkVTMQ8wDQYDVQQIEwZNYWRyaWQxDzAN
					BgNVBAcTBk1hZHJpZDEMMAoGA1UEChMDTUFQMQwwCgYDVQQLEwNNQVAxLTArBgNVBAMTJHByZS1h
					ZmlybWEucmVkaW50ZXJhZG1pbmlzdHJhdGl2YS5lczCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkC
					gYEAqZg5LN6KqU1YY+vabt4GbVN33TC79rBD1uMqufw2W+J1oYbn8MFChyawbQ2nScgr+sfbFGiR
					EDCPX8oj926+Ld0qN1QtvpIt6LlKgDO0daFndKm8Z+8WeKjeVL8IEhmyS5k/aJovAqniAAHnCbfy
					YXdwkTDJJ7w4Nkyoh/WNo9sCAwEAATANBgkqhkiG9w0BAQUFAAOBgQB9dk0qk75MmPDnZxK75evN
					eIK4sscPg5C3GF0Ddy9v9Dk2U1f8FBJbGq9isxmnJk0MpB980HsreITjHxV9wOnDLi8lc4HOBKKO
					gd4RnkbmlKGvdjsW8F+/YgXGKCBRoMZoD60FItXR3rsUKtbi4PTvAYYad7GmX5Oek2uwnoGxuTGC
					DEUwggqBAgEBMIGlMIGcMSAwHgYJKoZIhvcNAQkBFhFzb3BvcnRlLnJ0QG1hcC5lczELMAkGA1UE
					BhMCRVMxDzANBgNVBAgTBk1hZHJpZDEPMA0GA1UEBxMGTWFkcmlkMQwwCgYDVQQKEwNNQVAxDDAK
					BgNVBAsTA01BUDEtMCsGA1UEAxMkcHJlLWFmaXJtYS5yZWRpbnRlcmFkbWluaXN0cmF0aXZhLmVz
					AgRDzPJLMAkGBSsOAwIaBQCgcjATBgNVBAUxDBMKMTEzNzUwNDg0MzAYBgkqhkiG9w0BCQMxCwYJ
					KoZIhvcNAQcCMBwGCSqGSIb3DQEJBTEPFw0wNjA2MTcxMzIwMjVaMCMGCSqGSIb3DQEJBDEWBBRv
					sqKug0WILBfhDVWFx1Atp6+o4jANBgkqhkiG9w0BAQEFAASBgI0PbxAI9Mc2hvFVWp5HWHOjHshV
					o8iUOU8ZL8UUKadOd4w7k5+LtIv8z1qf2bMCPzacHiPV6SCT9VrM86rUCNY6Oe8Qghfyk3ozHl02
					LBVhaq290WgpJ8RobJWFtijblqOwcircNBlYsgKYjdz+bXe6hX83oizokCQ2OYLayi6ioYIIwTCC
					CL0GCyqGSIb3DQEJEAIOMYIIrDCCCKgGCSqGSIb3DQEHAqCCCJkwggiVAgEDMQswCQYFKw4DAhoF
					ADBYBgsqhkiG9w0BCRABBKBJBEcwRQIBAQYEKgMEATAfMAcGBSsOAwIaBBRH9XhVDBjeprOfufpP
					lRhdfhlnYQICHK8YDzIwMDYwNjEzMTMyMTQxWgIESZYC0qCCBrwwggOyMIICmqADAgECAgICfzAN
					BgkqhkiG9w0BAQUFADAsMQswCQYDVQQGEwJlczENMAsGA1UEChMEYnVsbDEOMAwGA1UEAxMFcm9v
					dDEwHhcNMDQxMTE3MTYyODEzWhcNMDkxMTE3MTYyODEzWjBSMQswCQYDVQQGEwJFUzEPMA0GA1UE
					ChMGU3RlcmlhMTIwMAYDVQQDEylBU1QgLSBBdXRvcmlkYWQgZGUgU2VsbG8gZGUgVGllbXBvIC0g
					VEVTVDCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAws/8CJJxIA//VEMo/0skGVUQkTYaa+NX
					uy0VAPq5vHc78+CWu8uIPzA72EL5oud524WVhVTxT3yUHrkPLTHuuHz/x6bhy9nR4+9CEB6mHSKG
					ndE776dh2Zvfgc+KF6PHqabi0eIqlOgI9on5WmF5xRFT/LiK3L8xNq19enxUJPcCAwEAAaOCATow
					ggE2MAwGA1UdEwEB/wQCMAAwDgYDVR0PAQH/BAQDAgbAMBYGA1UdJQEB/wQMMAoGCCsGAQUFBwMI
					MBEGCWCGSAGG+EIBAQQEAwIGQDAdBgNVHQ4EFgQUJJMptZA+ukAI6eW6rf8OMgEc09gwTQYDVR0j
					BEYwRKEwpC4wLDELMAkGA1UEBhMCZXMxDTALBgNVBAoTBGJ1bGwxDjAMBgNVBAMTBXJvb3QxghBb
					AwNDvHHUvT2O9Oavxn3qMH0GA1UdHwR2MHQwKqAooCaGJGh0dHA6Ly9vYmVsaXgva2V5b25lL2Ny
					bC9jcmwxXzAxLmNybDBGoESgQoYvaHR0cDovL3BsdXRvL2tleW9uZTEwMzIzL2NybHMvc3Vib3Jk
					UGx1dG8wMi5jcmykDzANMQswCQYDVQQGEwJlczANBgkqhkiG9w0BAQUFAAOCAQEAqCRa2uAvYuQS
					Q6Xq6s3kcv8z8g8+O/lQ+aNy7Yaaoiv9z0LOE/obI3vIjE9XbmxHYZaZ6WWLqd2rES/kt9N/AtgP
					9+Xq92qN6wzPTy492JMgWR5SbB/oSQv4loUsJSUWKj/TZGHiba6W6pmRdZie8ye1BNhsOGmmznPL
					ai+aJS6kDF3GAbKOYHXdg9/tdXqmXME/ylXHTctnweKrgc4fWc0fziqq4vLia6lAN1SDpr+Pp7XX
					6kocF1Mw9fwtd+yt+Ext6qH7SeAUJ+2afaOWYKBO9S5jkVK8AmxC3n68D6SfQqFlQMnSC/1WYyb0
					SoG6ytYCR4lrCiBorHVipQ1kfjCCAwIwggHqoAMCAQICEFsDA0O8cdS9PY705q/GfeowDQYJKoZI
					hvcNAQEFBQAwLDELMAkGA1UEBhMCZXMxDTALBgNVBAoTBGJ1bGwxDjAMBgNVBAMTBXJvb3QxMB4X
					DTAyMDkyMjIyMDAwMFoXDTIyMDkyMjIyMDAwMFowLDELMAkGA1UEBhMCZXMxDTALBgNVBAoTBGJ1
					bGwxDjAMBgNVBAMTBXJvb3QxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5dFfzWEp
					IRmY4xnlGh1YRjT6IBPOe4xMdRaI5Ulz9jE0V3200zfHZW+YDIs6OXkopXwdpN7QqdzsczVINmH7
					a9LiIWZUcOyKP5A09/18gntqPjFoSRkJ4DZgx3p7h9c9vp5CQwEg5FEvgJgw8q6WPKB5oWzkdRhq
					PR/7vsKbsPmpFaRTY5oFMAhUFotPR8XFRmpo2tkg0ZxQahafBfrdHrsLA2StN+f3N11mWQqf7raX
					Flq9RCpd2OSk8OzylqMVoNIe3cUlJS8QRvQDxN6Q8S1VGbQacDrp9Nt1lhqIbSF/PiAYTskoUkhz
					2ondrNxrYEZ60ODPWrRBPP/cVS3AfwIDAQABoyAwHjAPBgNVHRMECDAGAQH/AgEBMAsGA1UdDwQE
					AwIBBjANBgkqhkiG9w0BAQUFAAOCAQEAJhO27i5s9LI3lMlqqWyczrvz67cFf/TpMI2xlZ6slJx9
					fZjr3joovUToseUZto6TvoXLFsCnLG2EvxuxWQatXBpqSkVYoir+1vRC0fPI3/xa6AllnLE+SZrg
					VZeU3HuflzY7QDt7xAB1C55YVFSS+0KUbiCcDaMTTVS4Eqw7UL1lVj481dmgWSt+E3qNh+PCSghy
					TU4fGyM4fcFSSDibNFtVW5Pxuy7zCIijVR6U6bHqidcDFoYTqupUD510b2c18BDtnAa7UpqL5doj
					8fsLAj8DNIAry05cVXFiqXODShWwsFA+l3NHdmfGseq9DhpmSoIOAGt46GqUY/wu+NLSOTGCAWcw
					ggFjAgEBMDIwLDELMAkGA1UEBhMCZXMxDTALBgNVBAoTBGJ1bGwxDjAMBgNVBAMTBXJvb3QxAgIC
					fzAJBgUrDgMCGgUAoIGMMBoGCSqGSIb3DQEJAzENBgsqhkiG9w0BCRABBDAcBgkqhkiG9w0BCQUx
					DxcNMDYwNjEzMTMyMTQxWjAjBgkqhkiG9w0BCQQxFgQUWa0hCl/jzIVhNPHEGtLHlBUPUTswKwYL
					KoZIhvcNAQkQAgwxHDAaMBgwFgQUn+D8LJHvGXgHyj6g0XOJeCUXXz4wDQYJKoZIhvcNAQEBBQAE
					gYAqCZQmX0WFhk2zo4KfzCoXN97r6wVhGw2rOzXJG+fFPGFiqDIhVooYYYCtsfYfVwGvNMB0zZ6K
					yrD+P7WIBeWXyoB6w2A1j+6kgNF2QmWwVOnJbTJYxb3WuTL9UpUQtjYOJQ8J69Oa3LW7lnlGxuCv
					sin1XLVYSSw=
				&lt;/firmaElectronica&gt;
				&lt;formatoFirma&gt;CMS&lt;/formatoFirma&gt;
			&lt;/Respuesta&gt; 
		&lt;/respuesta&gt; 
	&lt;/mensajeSalida&gt;
   </FirmaServidorCoSignReturn>
  </ns1:FirmaServidorCoSignResponse>
 </soapenv:Body>
</soapenv:Envelope>